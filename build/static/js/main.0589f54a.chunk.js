(this.webpackJsonpcamera=this.webpackJsonpcamera||[]).push([[0],{21:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var i,a,c,r,o,s,u,d,l=n(0),h=n.n(l),b=n(12),g=n.n(b),j=(n(21),n.p+"static/media/logo.6ce24c58.svg"),f=n(9),p=n.n(f),v=n(13),m=n(2),x=n(5),O=n(3),w=n(4),M=w.a.button(i||(i=Object(O.a)(["\n"]))),z=w.a.span(a||(a=Object(O.a)(["\n"]))),k=(w.a.input(c||(c=Object(O.a)(["\n"]))),w.a.div(r||(r=Object(O.a)(["\n    display: flex;\n    flex-direction: ",";\n    flex-wrap: ",";\n"])),(function(e){return e.column?"column":"row"}),(function(e){return e.wrap?"wrap":"no-wrap"}))),C=w.a.div(o||(o=Object(O.a)(["\n  position: relative;\n"]))),S=w.a.div(s||(s=Object(O.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: rgba(100, 100, 100);\n  background: rgba(190, 190, 190);\n  position: relative;\n  border-radius: 5px;\n  height: 90vh;\n  width: calc(100vw - 50px);\n  // @media (max-width: 540px) {\n  //   height: ","px;\n  //   width: ","px;\n  // }\n  // @media (max-width: 992px) {\n  //   height: ","px;\n  //   width: ","px;\n  // }\n  // @media (min-width: 993px) {\n  //   height: ","px;\n  //   width: ","px;\n  // }\n"])),(function(e){return"big"===e.size?Math.ceil(500/1.33):0}),(function(e){return"big"===e.size?500:0}),(function(e){return"big"===e.size?Math.ceil(900/1.33):Math.ceil(200/1.33)}),(function(e){return"big"===e.size?900:200}),(function(e){return"big"===e.size?Math.ceil(600/1.33):Math.ceil(250/1.33)}),(function(e){return"big"===e.size?600:250})),y=w.a.video(u||(u=Object(O.a)(["\n  transform: scaleX(",") scaleY(",");\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  margin: 0 auto;\n  // @media (max-width: 540px) {\n  //   height: ","px;\n  //   width: ","px;\n  // }\n  // @media (max-width: 992px) {\n  //   height: ","px;\n  //   width: ","px;\n  // }\n  // @media (min-width: 993px) {\n  //   height: ","px;\n  //   width: ","px;\n  // }\n"])),(function(e){return e.invertX?"-1":"1"}),(function(e){return e.invertY?"-1":"1"}),(function(e){return"big"===e.size?Math.ceil(500/1.33):0}),(function(e){return"big"===e.size?500:0}),(function(e){return"big"===e.size?Math.ceil(900/1.33):Math.ceil(200/1.33)}),(function(e){return"big"===e.size?900:200}),(function(e){return"big"===e.size?Math.ceil(600/1.33):Math.ceil(250/1.33)}),(function(e){return"big"===e.size?600:250})),I=w.a.div(d||(d=Object(O.a)(["\n  display: flex;\n  align-items: center;\n  margin: 0 auto;\n  position: absolute;\n  bottom: 50px;\n  left: 50%;\n  transform: translateX(-50%);\n"]))),E=n(7),R=n(1),U={icons:{color:"#727272",margin:5,border:"1px solid #727272",borderRadius:"50%",padding:5,height:25,width:25}};var D=function(e){e.children;var t=e.invertX,n=e.invertY,i=e.videoSize,a=e.camRef,c=e.audio,r=e.video,o=e.setAudio,s=e.setVideo;return Object(R.jsxs)(C,{children:[Object(R.jsxs)(S,{size:"big",children:[r?"Loading feed...":"Enable Video.",Object(R.jsx)(y,{invertX:t,invertY:n,style:{height:i[1],width:i[0]},size:"big",id:"cam",ref:a})]}),Object(R.jsxs)(I,{children:[r&&c?Object(R.jsx)(E.a,{style:U.icons,onClick:function(){return o(!1)}}):r&&!c?Object(R.jsx)(E.b,{style:U.icons,onClick:function(){return o(!0)}}):null,Object(R.jsx)(E.c,{style:Object(x.a)({background:r?"red":"transparent"},U.icons),onClick:function(){return s(!r)}})]})]})},X={width:{ideal:1280},height:{ideal:720}};var Y=function(){var e=h.a.useState(""),t=Object(m.a)(e,2),n=(t[0],t[1],h.a.useState(null)),i=Object(m.a)(n,2),a=(i[0],i[1],h.a.useState([])),c=Object(m.a)(a,2),r=c[0],o=c[1],s=h.a.useState([]),u=Object(m.a)(s,2),d=(u[0],u[1]),l=h.a.useState(!1),b=Object(m.a)(l,2),g=(b[0],b[1],h.a.useState("")),j=Object(m.a)(g,2),f=j[0],O=j[1],w=h.a.useState([640,480]),C=Object(m.a)(w,2),S=C[0],y=C[1],I=h.a.useState(!1),E=Object(m.a)(I,2),U=E[0],Y=E[1],A=h.a.useState(!1),B=Object(m.a)(A,2),N=B[0],F=B[1],L=h.a.useState(!1),G=Object(m.a)(L,2),V=G[0],H=G[1],J=h.a.useState(!1),P=Object(m.a)(J,2),T=P[0],W=P[1],q=h.a.useState(""),K=Object(m.a)(q,2),Q=K[0],Z=K[1],$=h.a.useRef(null),_=h.a.useRef(null);function ee(){(T||U)&&function(e){var t=e.a,n=e.v,i=e.callback,a=navigator;a.getUserMedia=a.getUserMedia||a.webkitGetUserMedia||a.mozGetUserMedia||a.msGetUserMedia,navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:n?Object(x.a)(Object(x.a)({},X),n):n,audio:t}).then((function(e){i(e)}))}({a:T,v:f?{deviceId:f}:U,callback:function(e){var t=document.getElementById("cam");$.current.srcObject=e,$.current.play();var n=document.createElement("canvas");n.width=t.getBoundingClientRect().width,n.height=t.getBoundingClientRect().height,console.log(n),n.getContext("2d").drawImage(t,0,0);var i=n.toDataURL("image/png");Z(i)}}),!U&&$.current&&_.current&&(_.current.srcObject={},$.current.srcObject={})}function te(){return(te=Object(v.a)(p.a.mark((function e(){var t,n,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.enumerateDevices();case 3:t=e.sent,n=[],i=[],t.forEach((function(e){var t=e;"videoinput"==e.kind&&n.push(t),"audioinput"==e.kind&&i.push(t)})),o(n),d(i),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error fetching devicces: ",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}return h.a.useEffect((function(){!function(){te.apply(this,arguments)}();var e=window.innerHeight,t=window.innerWidth;console.log(e,t),y(t<e?[Math.floor(t),Math.floor(3*t/4)]:[Math.floor(4*(e-100)/3),Math.floor(e-100)])}),[]),h.a.useEffect((function(){ee()}),[T,U,f]),console.log(S),Object(R.jsxs)(k,{column:!0,className:"container",children:[Object(R.jsxs)(k,{className:"settings",children:[Object(R.jsx)("select",{onChange:function(e){return O(e.target.value)},children:r.map((function(e){var t;return Object(R.jsx)("option",{value:e.deviceId,children:null===e||void 0===e||null===(t=e.label)||void 0===t?void 0:t.split("(")[0]})}))}),Object(R.jsx)(M,{onClick:function(){return F(!N)},children:"Invert Image X"}),Object(R.jsx)(M,{onClick:function(){return H(!V)},children:"Invert Image Y"})]}),Object(R.jsx)(z,{}),Object(R.jsx)(k,{wrap:!0,justifyContentCenter:!0,children:Object(R.jsx)(D,{camRef:$,invertX:N,invertY:V,audio:T,video:U,setAudio:W,setVideo:Y,videoSize:S})}),Object(R.jsx)("img",{src:Q})]})};n(26);var A=function(){return Object(R.jsxs)("div",{className:"App",children:[Object(R.jsxs)("header",{className:"App-header",children:[Object(R.jsx)("img",{src:j,className:"App-logo",alt:"logo"}),"Infinity Coders Home Camera"]}),Object(R.jsx)(Y,{})]})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,28)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),i(e),a(e),c(e),r(e)}))};g.a.render(Object(R.jsx)(h.a.StrictMode,{children:Object(R.jsx)(A,{})}),document.getElementById("root")),B()}},[[27,1,2]]]);
//# sourceMappingURL=main.0589f54a.chunk.js.map